# 2024-11-17

## Laravel 第5章: ルーティング、コントローラー、ビュー

### 学んだこと

**MVC の流れ**
- ルーティング(routes/web.php)でURLとコントローラーを紐付け
- コントローラーで処理を実行
- ビュー(Blade)で画面を表示

**ルーティング**
```php
Route::get('/', [HomeController::class, 'index']);
```

**コントローラー**
```php
public function index()
{
    return view('home', ['data' => $data]);
}
```

**Blade**
```blade
{{ $data }}
@if ($condition)
@endif
@foreach ($items as $item)
@endforeach
```

### 気づき

- PHPのechoが{{ }}になって書きやすい
- MVCの全体像が見えてきた
- ルーティング→コントローラー→ビューの流れが理解できた

---

## Laravel 第6章: データベース連携

### 学んだこと

**マイグレーション**
- データベースのテーブル設計書
- `php artisan migrate`で実行
- `php artisan make:migration`でファイル作成

**Eloquent ORM**
- データベース操作が簡単になる
- SQLを直接書かなくていい
```php
User::all();           // 全取得
User::find(1);         // ID指定
User::where('name', 'xxx')->get();  // 条件指定
```

**Middleware**
- リクエストとレスポンスの間で実行
- 認証チェックなどの前処理に使う
- MVCの外側にある門番的な存在

### 詰まったところ

- マイグレーションファイルの概念が最初分からなかった
- Eloquentの便利さに感動(PHPのPDOより圧倒的に楽)

### 環境構築のトラブル

- セッションエラー → SESSION_DRIVER=fileに変更
- Viteエラー → npm installとnpm run dev
- Livewireのファイルがない → Laravel Breezeをインストール
