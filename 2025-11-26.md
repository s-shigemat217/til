# 2025-11-26

# スッキリわかるSQL入門 第4版
## 第1部 SQLを始めよう
### Chapter1 はじめてのSQL
#### 1.1 データベースとは
##### 1.1.1 データベースってなんだろう
データベースというとリレーショナルデータベース（RDB）のことを指す。
RDBの基本構造
- RDBには複数の表が入っており、それぞれの表をテーブルという
- 個々のテーブルには名前がついており、そのナマをテーブル名という
- テーブルは行（row）と列（column）で興世される
- 1つの行が1件のデータに対応する。列はそのデータの要素に対応する。
- 行をレコード、列をカラムやフィールドと飛ぶこともある。
##### 1.1.2 データベース管理システム（DBMS）
##### 1.1.3 代表的なRDBMS製品

| 分類   | RDBMS製品名        | 提供元                                 |
| ---- | --------------- | ----------------------------------- |
| 商用製品 | Oracle Database | オラクル社                               |
|      | Db2             | IBM                                 |
|      | SQL Server      | マイクロソフト                             |
| OSS  | MySQL           | オラクル社                               |
|      | MariaDB         | MariaDB Corporation                 |
|      | PostgreSQL      | PostgreSQL Global Development Group |
|      | SQLite          | D. Richard Hipp                     |
|      | H2 Database     | Thomas Mueller                      |

製品によって使用できるSQLの命令や記述方法には違いがあるが、基本的な構文や考え方は同じ。

##### 1.1.4 データベースにSQL分を送るには
#### 1.2 はじめてのSQL
##### 1.2.1 SQLを体験してみよう
##### 1.2.2 検索してみよう
##### 1.2.3 条件つきの検索
##### 1.2.4 データの追加
INSERT INTO テーブル名 VALUES 追加したいデータ
##### 1.2.5 データの更新
UPDATE テーブル名 SET データ WHERE 条件
##### 1.2.6 データの削除
DELETE FROM テーブル名 WHERE 条件

**3命令の動作**
- SELECT：ある条件を満たす行を探す→その行の内容を取得する
- UPDATE：ある条件を満たす行を探す→その行の内容を書き換える
- DELETE：ある条件を満たす行を探す→その行を削除する
#### 1.3 この章のまとめ
- データベースの概念
	- データベースとは、管理や分析を目的としてさまざまなデータを蓄積したもの
	- ITにおけるデータベースの実態は、通常、ファイルである。
	- データベースはデータベース管理システム（DBMS）によって管理される。
	- 現在、さまざまなDBMSがソフトウェア製品として公開されている。
	- 複数のテーブルの形式でデータを管理するものをリレーショナル・データベースという。
	- テーブルには名前がついており、行と列から構成される。
	- 1つの行が1件のデータ、1つの列がデータの1要素に対応している。
- SQLの概要
	- SQLは、データベースやデータを操作するための専用言語。
	- SQLで書かれた命令（SQL文）をDBMSに送信すると、データの検索・追加・更新・削除などを行うことができる。
	- SQLを送信するには、DBMS製品が提供するドライバを用いたプログラムをあたしく開発するか、DBMS製品に付属するソフトウェア（SQLクライアント）を利用する。
	- SQLの文法は利用するDBMS製品によって少しずつ異なるが、基本的な部分は同じである。
#### 1.4 練習問題

### Chapter2 基本文法と4大命令
#### 2.1 SQLの基本ルール
##### 2.1.1 記述形式に関するルール
- 文の途中に改行を入れることができる
- 行の先頭や行の途中に半角の空白を入れることができる
##### 2.1.2 コメントに関する2つのルール
- ハイフン2つ（‐‐）から行末まではコメントとして扱われる。
- /* から * / まではコメントとして扱われる
##### 2.1.3 予約語に関するルール
- SELECTやWHEREなどの命令に使う単語は、SQLとして特別な意味を持つ「予約語」である。
- 予約後は、大文字と小文字のどちらで記述しても良い。
- テーブル名や列名に予約語を利用することはできない
#### 2.2 データ型とリテラル
##### 2.2.1 リテラルの種類
- シングルクォーテーションでくくらずに記述されたリテラルは、数値情報として扱われる
- シングルクォーテーションでくくられたリテラルは、基本的に文字情報として扱われる。
- シングルクォーテーションでくくられ、かつ'2024-02-25'のように一定の形式で記述されたリテラルは、日付情報として扱われる。
##### 2.2.2 列とデータ型
- テーブルの各列には、データ型が指定されている。
- 列には、データ型で指定された種類の情報のみ格納できる。
- 利用可能なデータ型は、DBMS製品によって異なる。
##### 2.2.3 固定長と可変長
- CHAR型→固定長
- VARCHAR型→可変長
#### 2.3 SQLの命令体型
##### 2.3.1 4つの重要な命令
ほとんどのデータ層は、SELECT、UPDATE、DELETE、INSERTの4つの命令で実現できる。
これら4つのSQL命令は、DML（Data Manipulation Language）と総称される。
##### 2.3.2 4大命令の全体像を俯瞰する
#### 2.4 SELECT文ーデータの検索
##### 2.4.1 SELECT文の基本構造
```SQL
SELECT 列名…
FROM テーブル名
(WHERE修飾)
(その他の修飾)
```
##### 2.4.2 ASによる別名の定義
それぞれの記述の牛とに**AS**と任意のキーワードを付けて、別名を定義できる。
```SQL
SELECT 費目 AS ITEM, 入金額 AS RECEIVE, 出金額 AS PAY
FROM 家計簿 AS MONEYBOOK
WHERE 費目 = '給料'
```
**列に別名を付けるメリット**
- 状況に応じて、結果表のタイトル列を任意の内容で表示できる。
- 英語名などの一見わかりにくい列名や長い列名でも、わかりやすく短い別名を付けてSQL文の中で利用できる
#### 2.5 UPDATE文 ー データの更新
##### 2.5.1 UPDATE文の基本構造
```SQL
UPDATE テーブル名
SET 列名1 = 値1, 列名2 = 値2…
(WHERE 修飾)
```

**WHEREのないUPDATE文は全件更新になってしまうよ。**
#### 2.6 DELETE文 ー データの削除
##### 2.6.1 DELETE文の基本構造
```SQL
DELETE 
FROM テーブル名
(WHERE 修飾)
```
DELETE文では列名を指定する必要がないため、1行目のDELETEの後ろには何も記述しない。
**==WHERE句のDELETE命令は全件削除==**
#### 2.7 INSERT文 ー データの追加
##### 2.7.1 INSERT分の基本構造
```SQL
INSERT INTO テーブル名
			（列名1, 列名2, 列名3…）
		VALUE （値1, 値2, 値3…）
```
#### 2.8 4大命令をスッキリ学ぶコツ
##### 2.8.1. 4大命令を振り返って
- 4大命令の構造と修飾語の全体像をしっかり把握する。
- 4大命令の2通りの分類方法を理解する
- 4大命令に共通するテーブル指定を先に書く
##### 2.8.2. 4大命令の2通りの分類を理解する
**分類方法（1）検索系と更新系**
- 検索系→SELECT
- 更新系→UPDATE, DELETE, INSERT
分類方法（2）既存系と心奇形
- 既存系→SELECT, UPDATE,DELETE
- 心奇形→INSERT

##### 2.8.3. テーブル指定を先に記述する
**4大命令のすべてに共通すること：処理対象とするテーブル名を必ず指定する必要がある。**
**▼スッキリかけるSQL**
1. まず、命令（SELECT, UPDATE, DELETE, INSERT）を記述する。
2. 次に、テーブル指定の部分を記述する
3. テーブル指定より後ろの部分を記述する
4. テーブル指定より前の部分を記述する（SELECT文のみ）
#### 2.9 この章のまとめ
**SQLの基本ルール**
- 記述の途中で開業したり、半角の空白を入れたりしてもよい。
- 予約後は大文字、小文字が区別されない。また、列名などに利用できない。
- 文中にコメントを記述することができる
**データ型とリテラル**
- SQL分の中に直接記述される具体的な値をリテラルという。
- 数値、文字列、日付など、データの種類に応じてリテラルの記述方法は異なる。
- テーブルの各列にはデータ型が指定されている。
- 列に指定された種類のデータのみ、その列に格納することができる。
**SQLの体系**
- SELECT, UPDATE,DELETE, INSERTの4つの命令を利用する。
- 各命令をどのように実行するかを指示する修飾が豊富に用意されており、組み合わせることによって多様な命令を実現できる。
- 4つの命令は、操作内容から見た検索系と更新系、対象とするデータ絡みた既存系と新規系に分類できる。
**4大命令をスッキリ学ぶコツ**
- 4大命令の構造と修飾語の全体像をしっかり把握する。
- 4大命令の2通りの分類方法を理解する。
- SQL文を作成するときは、4大命令に共通するテーブル指定を先に書く。

### Chapter3 操作する行の絞り込み
### Chapter4 検索結果の加工

